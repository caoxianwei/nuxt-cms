{"version":3,"sources":["webpack:///webpack/bootstrap d707a8b02866d967d396","webpack:///./~/babel-runtime/regenerator/index.js","webpack:///./server/utils/handlers.js","webpack:///./server/utils/index.js","webpack:///external \"mongoose\"","webpack:///./config.js","webpack:///./server/controllers/user.js","webpack:///external \"koa-router\"","webpack:///external \"path\"","webpack:///external \"jsonwebtoken\"","webpack:///external \"koa-body\"","webpack:///./server/controllers/tag.js","webpack:///./static/gt-slide.js","webpack:///external \"md5\"","webpack:///./nuxt.config.js","webpack:///./server/routes/index.js","webpack:///./server/routes/upload.js","webpack:///./utils/tools/time.js","webpack:///external \"@koa/cors\"","webpack:///external \"koa\"","webpack:///external \"koa-session\"","webpack:///external \"koa-static\"","webpack:///external \"nuxt\"","webpack:///./server/controllers/article.js","webpack:///./server/controllers/comment.js","webpack:///./server/controllers/common.js","webpack:///./server/controllers/contact.js","webpack:///./server/controllers/index.js","webpack:///./server/controllers/like.js","webpack:///./server/controllers/logo.js","webpack:///./server/middlewares/check-admin.js","webpack:///./server/middlewares/check-token.js","webpack:///./utils/tools/check.js","webpack:///./utils/tools/file.js","webpack:///./utils/tools/number.js","webpack:///external \"gt3-sdk\"","webpack:///external \"nodemailer\"","webpack:///external \"postcss-px2rem\"","webpack:///external \"promise-async\"","webpack:///external \"regenerator-runtime\"","webpack:///external \"webpack\"","webpack:///./server/index.js"],"names":["success","ctx","body","data","total","error","console","message","filePath","uri","file","request","files","fileName","length","f","F","getFileName","path","fPath","push","name","url","config","require","options","toJSON","virtuals","versionKey","transform","doc","ret","_id","sleep","time","Promise","resolve","reject","setTimeout","pagination","query","pageIndex","pageSize","pageSort","skip","Number","limit","sort","to","subject","html","transporter","nodemailer","createTransport","host","service","port","secure","auth","user","SMTPConfig","pass","mailOptions","from","sendMail","res","env","process","__ENV","log","module","exports","secret","app","domain","admin","role","username","password","email","mongodb","database","Schema","mongoose","schema","type","String","default","avatar","index","createdAt","Date","now","updatedAt","statics","findByRole","cb","find","methods","sayHi","byName","where","RegExp","User","model","register","next","findOne","emailRecord","throw","usernameRecord","md5","create","handle","login","geetest_challenge","geetest_validate","geetest_seccode","gtSlide","validate","session","failback","token","jwt","sign","userId","id","userName","cookies","set","logout","e","resetPassword","code","newPassword","validateCode","updateOne","getUserInfo","params","verify","decoded","findById","getUserInfoById","patchUserInfo","oldPassword","findByIdAndUpdate","deleteUser","findUser","findOneAndDelete","list","page","countDocuments","count","select","exec","users","unique","Tag","tag","records","captcha","geetest_id","geetest_key","webpack","head","title","meta","charset","content","hid","link","rel","href","script","src","css","loading","modules","plugins","router","middleware","build","analyze","extractCSS","cssSourceMap","maxChunkSize","optimization","splitChunks","chunks","minSize","maxSize","minChunks","maxAsyncRequests","maxInitialRequests","automaticNameDelimiter","cacheGroups","vendors","test","priority","reuseExistingChunk","postcss","remUnit","ProvidePlugin","extend","isClient","entry","Object","assign","alias","__dirname","axios","baseURL","proxy","manifest","description","theme_color","get","post","patch","article","delete","del","listBySearch","listByTag","comment","like","contact","logo","uploadConfig","multipart","formidable","uploadDir","join","keepExtensions","maxFieldsSize","koaBody","getMillisecond","num","formatMillisecond","nextTime","frequency","callback","speed","setInterval","getTime","Math","random","desc","thumb","view","status","Types","ObjectId","ref","tags","Article","async","each","item","findOneAndUpdate","new","upsert","setDefaultsOnInsert","populate","record","preArticle","nextArticle","temp","pre","result","_doc","findByIdAndDelete","keyword","reg","decodeURIComponent","conditions","$or","$regex","$all","reply","Comment","getCode","n","views","N","randomCode","sendEmail","gtRegister","phone","Contact","toUsers","T","isEmpty","forEach","useNewUrlParser","connect","global","db","connection","on","bind","once","adminInfo","Boolean","Like","imgPath","Logo","checkAdmin","checkToken","check","isBrowser","userAgent","navigator","isOpera","indexOf","isIE","isIE11","isEdge","isFF","isSafari","isChrome","reIE","fIEVersion","parseFloat","version","isString","o","prototype","toString","call","slice","isNumber","isBoolean","isFunction","isNull","isUndefined","isObj","isArray","isDate","isError","isSymbol","isPromise","isSet","JSON","stringify","isFalse","isInt","str","isPhone","isTel","isUser","isPassword","isPostal","isQQ","isEmail","isMoney","isURL","isIP","isEnglish","isChinese","isLower","isUpper","isHTML","isSpace","isIdCard","isBankCard","isIos","u","isPC","userAgentInfo","Agents","flag","v","isCardID","sId","alert","aCity","parseInt","substr","sBirthday","replace","d","getFullYear","getMonth","getDate","sum","weights","codes","i","last","formatSize","fsize","fileSizeString","toFixed","getExt","lastIndexOf","pos","substring","toLowerCase","getName","fileFormat","split","isImageFileName","isVideoFileName","isDocumentFileName","isOfficeFileName","min","max","arguments","floor","randomGoods","goods","odds","factor","len","formatSmallChinese","AA","Array","BB","a","k","re","charAt","match","formatMoney","newStr","formatBigMoney","money","cnNums","cnIntRadice","cnIntUnits","cnDecUnits","cnInteger","cnIntLast","maxNum","integerNum","decimalNum","chineseStr","parts","zeroCount","IntLen","p","q","m","decLen","numberUnit","keys","HOST","PORT","use","KoaStatic","serverConfig","cors","api","routes","upload","allowedMethods","nuxtConfig","dev","nuxt","builder","render","req","promise","then","catch","listen","start","key","maxAge","autoCommit","overwrite","httpOnly","signed","rolling","renew"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 40);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d707a8b02866d967d396","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/regenerator/index.js\n// module id = 0\n// module chunks = 0","import F from \"../../utils/tools/file\";\n\nexport function success(ctx) {\n  return (\n    ctx.body = {\n      success: true\n    }\n  )\n}\n\nexport function data(ctx,data,total) {\n  return (\n    ctx.body = {\n      success: true,\n      data,\n      total\n    }\n  )\n}\n\nexport function error(ctx,error) {\n  console.error(error)\n  return (\n    ctx.body = {\n      success: false,\n      message:error.message\n    }\n  )\n}\n\nexport function message(ctx,message) {\n  console.error(error)\n  return (\n    ctx.body = {\n      success: false,\n      message\n    }\n  )\n}\n\nexport function filePath(ctx,uri) {\n  let file = ctx.request.files.file\n\n  let fileName,filePath\n  if(file.length > 0){\n    filePath = []\n    for(let f of file){\n      fileName = F.getFileName(f.path)\n      let fPath = `/uploads${uri}/${fileName}`\n      filePath.push({name:f.name,url:fPath})\n    }\n\n    return (\n      ctx.body = {\n        success: true,\n        data:filePath\n      }\n    )\n  }else {\n    fileName = F.getFileName(file.path)\n    filePath = `/uploads${uri}/${fileName}`\n\n    return (\n      ctx.body = {\n        success: true,\n        data:{\n          name:file.name,\n          url:filePath\n        }\n      }\n    )\n  }\n}\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./server/utils/handlers.js","import nodemailer from 'nodemailer'\nconst config = require('../../config')\n\nexport const options = {\n  toJSON: {\n    virtuals: true,\n    versionKey: false,\n    transform(doc, ret) {\n      delete ret._id\n      return ret\n    }\n  }\n}\n\nexport function sleep(time) {\n  return new Promise(function (resolve, reject) {\n    setTimeout(function () {\n      resolve()\n    }, time)\n  })\n}\n\nexport function pagination(ctx) {\n  let query = ctx.query\n  let {pageIndex = 1, pageSize = 100, pageSort = 'createdAt'} = query\n  let skip = (Number(pageIndex) - 1) * Number(pageSize)\n  let limit = Number(pageSize)\n  let sort = {}\n  sort[pageSort] = -1\n  delete query.pageIndex\n  delete query.pageSize\n  delete query.pageSort\n  return {\n    query,\n    skip,\n    limit,\n    sort\n  }\n}\n\nexport async function sendMail(to, subject, html) {\n  if(!to || !subject || !html) return '缺少字段'\n  let transporter = nodemailer.createTransport({\n    host: 'smtp.exmail.qq.com',\n    service: 'qq',  //QQ邮箱\n    port: 465,\n    secure: true,\n    auth: {\n      user: config.SMTPConfig.user,\n      pass: config.SMTPConfig.pass\n    }\n  })\n  let mailOptions = {\n    from: config.SMTPConfig.user,\n    to: to,\n    subject: subject,\n    html: html\n  }\n  let res = await transporter.sendMail(mailOptions)\n  return res\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/utils/index.js","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 3\n// module chunks = 0","let env =  process.env.__ENV\n\nconsole.log('env:',process.env.__ENV)\n\nmodule.exports = {\n  secret: 'nuxt-koa-mongoose-pwa',\n  app: {\n    domain: env === 'production' ? 'http://120.25.159.24:3000' : (env === 'uat' ? 'http://120.25.159.24:3000' : 'http://localhost:3000'),\n    host: '0.0.0.0',\n    port: 3000\n  },\n  admin: {\n    role: '超级管理员',\n    username: 'paddy',\n    password: 'paddy',\n    name: 'paddy',\n    email: 'patricknieh@qq.com'\n  },\n  mongodb: {\n    host: '127.0.0.1',\n    database: 'nuxt-cms',\n    port: 25015,\n    username: 'paddy',\n    password: 'paddy123'\n  },\n  SMTPConfig: {\n    user: 'patricknieh@qq.com',\n    pass: 'Art18926990080'\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./config.js","import jwt from 'jsonwebtoken'\nimport md5 from 'md5'\nimport mongoose from 'mongoose'\n\nimport * as handle from '../utils/handlers'\nimport gtSlide from \"../../static/gt-slide\"\nimport {options,pagination} from \"../utils\"\n\nconst config = require('../../config')\n\n//model\nconst Schema = mongoose.Schema\nconst schema = new Schema({\n  role: {\n    type: String,\n    default: '用户'\n  },\n  avatar: {\n    type: String,\n    default: '/icon.png'\n  },\n  username: {\n    type: String,\n    default: '',\n    index: true\n  },\n  password: {\n    type: String,\n    default: ''\n  },\n  name: {\n    type: String,\n    default: ''\n  },\n  email: {\n    type: String,\n    default: ''\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now\n  },\n  updatedAt: {\n    type: Date,\n    default: Date.now\n  }\n},options)\n\n//statics\nschema.statics = {\n  findByRole:function(role, cb){\n    return this.find({ role }, cb)\n  }\n}\n\n//methods\nschema.methods = {\n  sayHi:function(){\n    console.log(`Hi, welcome ${this.name}`)\n  }\n}\n\n//query\nschema.query = {\n  byName:function(name){\n    return this.where({ username: new RegExp(name, 'i') })\n  }\n}\n\n//controller\nconst User = mongoose.model('User', schema)\nconst user = {\n  register: async(ctx, next) => {\n    let body = ctx.request.body\n    let {email,username,password} = body\n\n    try{\n      let emailRecord = await User.findOne({ email })\n      if(emailRecord) ctx.throw('此邮箱已经注册过，如忘记密码请重置密码')\n\n      let usernameRecord = await User.findOne({ username })\n      if(usernameRecord) ctx.throw('此用户名已被使用，换一个再试试')\n\n      body.password = md5(password)\n      await User.create(body)\n      handle.success(ctx)\n    }catch (e) {\n      handle.error(ctx,e)\n    }\n  },\n  login: async(ctx, next) => {\n    let { username, password,geetest_challenge,geetest_validate,geetest_seccode } = ctx.request.body\n    password = md5(password)\n    try {\n      // 对ajax提供的验证凭证进行二次验证\n      let success = await gtSlide.validate(ctx.session.failback,{\n        geetest_challenge,\n        geetest_validate,\n        geetest_seccode\n      })\n      if(!success) ctx.throw('GT 验证失败')\n      // 验证用户\n      let user = await User.findOne({username, password})\n      if(!user) ctx.throw('用户名或密码错')\n\n      let token = jwt.sign({ userId: user.id,userName: user.username }, config.secret)\n      ctx.cookies.set('token', token)\n      handle.data(ctx,{token})\n    } catch (e) {\n      handle.error(ctx,e)\n    }\n  },\n  logout: async(ctx, next) => {\n    try {\n      ctx.cookies.set('token', null)\n      handle.success(ctx)\n    } catch (e) {\n      handle.error(ctx,e)\n    }\n  },\n  resetPassword: async(ctx, next) => {\n    let {username,email,code,newPassword} = ctx.request.body\n    try {\n      if(!username || !email || !code || !newPassword) ctx.throw('缺少字段')\n      if(code != ctx.session.validateCode) ctx.throw('验证码不正确')\n\n      await User.updateOne({ username,email }, { password: md5(newPassword), updatedAt: Date.now() })\n      handle.success(ctx)\n    } catch (e) {\n      handle.error(ctx,e)\n    }\n  },\n  getUserInfo: async(ctx, next) => {\n    let { token } = ctx.params\n    try {\n      let decoded = await jwt.verify(token, config.secret)\n      let user = await User.findById(decoded.userId,'-password')\n      if(!user) ctx.throw('无记录')\n      handle.data(ctx,user)\n    } catch (e) {\n      handle.error(ctx,e)\n    }\n  },\n  getUserInfoById: async(ctx, next) => {\n    let { id } = ctx.query\n    try {\n      let user = await User.findById(id,{name:1,role:1})\n      if(!user) ctx.throw('无记录')\n      handle.data(ctx,user)\n    } catch (e) {\n      handle.error(ctx,e)\n    }\n  },\n  patchUserInfo: async(ctx, next) => {\n    let {id} = ctx.params\n    let body = ctx.request.body\n\n    try{\n      if(body.password) ctx.throw('包含禁止修改的字段')\n\n      let user = await User.findById(id)\n      if(!user) ctx.throw('用户不存在')\n      if(user.role === '超级管理员') ctx.throw('超级管理员不允许修改')\n\n      //修改密码\n      if(body.oldPassword && body.newPassword) {\n        if (user.password !== md5(body.oldPassword)) ctx.throw('原密码不正确')\n        await User.findByIdAndUpdate(id, { password: md5(body.newPassword), updatedAt: Date.now() })\n      }else {\n        if(body.role === '超级管理员') ctx.throw('超级管理员只能有一个')\n        //修改其他信息\n        body.updatedAt = Date.now()\n        await User.findByIdAndUpdate(id, body)\n      }\n      handle.success(ctx)\n    }catch (e) {\n      handle.error(ctx,e)\n    }\n  },\n  deleteUser: async(ctx, next) => {\n    let {username} = ctx.params\n\n    try{\n      let findUser = await User.findOne({ username })\n      if(!findUser) ctx.throw('用户不存在')\n      if(findUser.role === '超级管理员') ctx.throw('超级管理员不允许删除')\n      await User.findOneAndDelete({ username })\n      handle.success(ctx)\n    }catch (e) {\n      handle.error(ctx,e)\n    }\n  },\n  list: async(ctx, next) => {\n    let page = pagination(ctx)\n    try {\n      let count = await User.countDocuments(page.query)\n      let users = await User.find(page.query)\n        .select({password:0})\n        .sort(page.sort)\n        .skip(page.skip)\n        .limit(page.limit)\n        .exec()\n      handle.data(ctx,users,count)\n    } catch (e) {\n      handle.error(ctx,e)\n    }\n  }\n}\n\nexport {User,user}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/user.js","module.exports = require(\"koa-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-router\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"jsonwebtoken\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jsonwebtoken\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"koa-body\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-body\"\n// module id = 9\n// module chunks = 0","import mongoose from 'mongoose'\n\nimport * as handle from '../utils/handlers'\nimport {options} from '../utils'\n\n//model\nconst Schema = mongoose.Schema\nconst schema = new Schema({\n  name: {\n    type: String,\n    default: '',\n    index: true,\n    unique: true\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now\n  }\n},options)\n\n//controller\nconst Tag = mongoose.model('Tag', schema)\nconst tag = {\n  list: async(ctx, next) => {\n    let query = ctx.query\n    try {\n      let records = await Tag.find(query)\n        .sort({ 'updatedAt': -1 })\n        .exec()\n      handle.data(ctx,records)\n    } catch (e) {\n      handle.error(ctx,e)\n    }\n  }\n}\n\nexport {Tag,tag}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/tag.js","import Geetest from 'gt3-sdk'\nlet captcha = new Geetest({\n  geetest_id: 'e6721cd02ebe3ee262c9b84337367787',\n  geetest_key: 'a2a4a900f75241998c442274f3e1e492'\n});\n\nexport default captcha;\n\n\n\n// WEBPACK FOOTER //\n// ./static/gt-slide.js","module.exports = require(\"md5\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"md5\"\n// module id = 12\n// module chunks = 0","const webpack = require('webpack')\nconst config = require('./config')\nconst path = require('path')\nmodule.exports = {\n  head: {\n    title: 'NUXT-CMS',\n    meta: [\n      { charset: 'utf-8' },\n      { name: 'viewport', content: 'width=device-width, initial-scale=1, viewport-fit=cover' },\n      { name: 'renderer', content: 'webkit' },\n      { name: 'author', content: 'paddy' },\n      { name: 'apple-mobile-web-app-capable', content: 'yes' },\n      { name: 'apple-mobile-web-app-status-bar-style', content: 'black' },\n      { hid: 'description', name: 'description', content: '' },\n      { hid: 'keywords', name: 'keywords', content: '' },\n    ],\n    link: [\n      { rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' },\n      { rel: 'apple-touch-icon', href: '/icon.png' },\n    ],\n    script: [\n      { src: '/cnzz.js'},\n      { src: '//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'},\n      { src: '/gt.js'}\n    ]\n  },\n  css: [\n    '~/scss/main.scss'\n  ],\n  loading: false,\n  modules: ['@nuxtjs/pwa', '@nuxtjs/axios', '@nuxtjs/proxy'],\n  plugins: [\n    '~/plugins/components',\n    '~/plugins/filters',\n    '~/plugins/directives',\n    '~/plugins/i18n',\n    '~/plugins/axios',\n    '~/plugins/element-ui',\n    '~/plugins/mint-ui',\n    '~/plugins/vue-awesome-swiper',\n    '~/plugins/vue-quill-editor'\n  ],\n  router: {\n    middleware: ['route']\n  },\n  build: {\n    analyze: process.env.__ENV === 'development' ? true : false,\n    extractCSS: true,\n    cssSourceMap: false,\n    maxChunkSize: 100000,\n    optimization: {\n      splitChunks: {\n        chunks: 'all',\n        minSize: 30000,\n        maxSize: 0,\n        minChunks: 1,\n        maxAsyncRequests: 5,\n        maxInitialRequests: 3,\n        automaticNameDelimiter: '~',\n        name: true,\n        cacheGroups: {\n          vendors: {\n            test: /[\\\\/]node_modules[\\\\/]/,\n            priority: -10\n          },\n          default: {\n            minChunks: 2,\n            priority: -20,\n            reuseExistingChunk: true\n          }\n        }\n      }\n    },\n    postcss: [\n      require('postcss-px2rem')({\n        remUnit: 15 // 转换基本单位\n      })\n    ],\n    plugins: [\n      new webpack.ProvidePlugin({\n        // '_': 'lodash'\n      })\n    ],\n    extend (config, ctx) {\n      if (ctx.isClient) {\n        config.entry['polyfill'] = ['babel-polyfill']\n        // 添加 alias 配置\n        Object.assign(config.resolve.alias, {\n          'utils': path.resolve(__dirname, 'utils')\n        })\n      }\n      // console.log('webpack config:', config)\n    }\n  },\n  env: {\n    __ENV: process.env.__ENV\n  },\n  axios: {\n    baseURL: `${config.app.domain}/api`,\n    // credentials: true,\n    // proxy:true\n  },\n  proxy:{\n    // '/api2': 'http://example.com'\n  },\n  manifest: {\n    name: 'nuxt-cms',\n    description: 'A pwa program',\n    theme_color: '#618cb9'\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js","import Router from 'koa-router'\nimport checkToken from '../middlewares/check-token'\nimport checkAdmin from '../middlewares/check-admin'\n\nconst router = new Router()\n\n//链接数据库\nrequire('../controllers')\n\n//controllers\nimport * as common from '../controllers/common'\nimport {user} from '../controllers/user'\nimport {comment} from '../controllers/comment'\nimport {article} from '../controllers/article'\nimport {tag} from '../controllers/tag'\nimport {logo} from '../controllers/logo'\nimport {contact} from '../controllers/contact'\nimport {like} from '../controllers/like'\n\nrouter\n  //tool\n  .get('/gt/register-slide', common.gtRegister)\n  .post('/get-code', common.getCode)\n  .post('/send-email', common.sendEmail)\n  //user\n  .post('/user', user.register)\n  .get('/user/:token', checkToken, user.getUserInfo)\n  .get('/user', checkToken, user.getUserInfoById)\n  .patch('/user/:id', checkToken, user.patchUserInfo)\n  // .delete('/user/:username', checkToken, user.deleteUser)\n  .post('/user/login', user.login)\n  .post('/user/logout', checkToken, user.logout)\n  .post('/user/reset-password', checkToken, user.resetPassword)\n  .get('/users', checkToken, user.list)\n  //article\n  .post('/article', article.post)\n  .get('/article/:id', article.get)\n  .patch('/article/:id', article.patch)\n  .delete('/article/:id',checkAdmin, article.del)\n  .get('/articles', article.list)\n  .get('/articles/search/:keyword', article.listBySearch)\n  .get('/articles/tag/:tag', article.listByTag)\n  //comment\n  .post('/comment', comment.post)\n  .get('/comments', comment.list)\n  .delete('/comment/:id',checkAdmin, comment.del)\n  //like\n  .post('/like', like.post)\n  .get('/likes', like.list)\n  .delete('/like/:id', like.del)\n  //tag\n  .get('/tags', tag.list)\n  //contact\n  .post('/contact',contact.post)\n  .get('/contact/:id', contact.get)\n  .get('/contacts', contact.list)\n  //logo\n  .post('/logo', logo.post)\n  .get('/logo/:id', logo.get)\n  .patch('/logo/:id', logo.patch)\n  .delete('/logo/:id',checkAdmin, logo.del)\n  .get('/logos', logo.list)\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes/index.js","import Router from 'koa-router';\nimport path from 'path'\nimport * as handle from '../utils/handlers'\nimport koaBody from 'koa-body'\n\nconst router = new Router()\n\nfunction uploadConfig(uri) {\n  return{\n    multipart: true,\n    formidable:{\n      uploadDir:path.join(__dirname,`../../static/uploads${uri}`),\n      keepExtensions: true,    // 保持文件的后缀\n      maxFieldsSize:2 * 1024 * 1024  // 限制2M\n    }\n  }\n}\n\nrouter\n  .post('/',koaBody(uploadConfig('')), async(ctx, next) => {\n    try {\n      handle.filePath(ctx,'')\n    }catch (e) {\n      handle.error(ctx,e)\n    }\n  })\n  .post('/thumb',koaBody(uploadConfig('/thumb')), async(ctx, next) => {\n    try {\n      handle.filePath(ctx,'/thumb')\n    }catch (e) {\n      handle.error(ctx,e)\n    }\n  })\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes/upload.js","let time = {\n  //获取毫秒数\n  getMillisecond: function (num, type) {\n    switch (type) {\n      case 'day':\n        return num * 24 * 60 * 60 * 1000\n        break\n      case 'hour':\n        return num * 60 * 60 * 1000\n        break\n      case 'minute':\n        return num * 60 * 1000\n        break\n      case 'second':\n        return num * 1000\n        break\n    }\n  },\n  //转换毫秒数\n  formatMillisecond: function (num, to) {\n    switch (to) {\n      case 'day':\n        return num / 24 / 60 / 60 / 1000\n        break\n      case 'hour':\n        return num / 60 / 60 / 1000\n        break\n      case 'minute':\n        return num / 60 / 1000\n        break\n      case 'second':\n        return num / 1000\n        break\n    }\n  },\n  //随机间歇执行\n  nextTime: 0,\n  frequency: function (callback,speed) {\n    return setInterval(() => {\n      let now = new Date().getTime();\n      if (now >= this.nextTime) {\n        callback()\n        this.nextTime = now + Math.random()*speed\n      }\n    }, 300)\n  }\n}\n\nexport default time\n\n\n\n// WEBPACK FOOTER //\n// ./utils/tools/time.js","module.exports = require(\"@koa/cors\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@koa/cors\"\n// module id = 17\n// module chunks = 0","module.exports = require(\"koa\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa\"\n// module id = 18\n// module chunks = 0","module.exports = require(\"koa-session\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-session\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"koa-static\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-static\"\n// module id = 20\n// module chunks = 0","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 21\n// module chunks = 0","import async from 'promise-async'\nimport mongoose from 'mongoose'\n\nimport * as handle from '../utils/handlers'\nimport {options,pagination} from '../utils'\n\nimport {Tag} from \"./tag\"\n\n//model\nconst Schema = mongoose.Schema\nconst schema = new Schema({\n  type: {\n    type: String,\n    default: ''\n  },\n  title: {\n    type: String,\n    default: ''\n  },\n  desc: {\n    type: String,\n    default: ''\n  },\n  thumb: {\n    type: String,\n    default: ''\n  },\n  content: {\n    type: String,\n    default: ''\n  },\n  view: {\n    type: Number,\n    default: 0\n  },\n  status: {\n    type: Number,\n    default: 0   //0:未发布 1:已发布\n  },\n  user: {\n    type: Schema.Types.ObjectId,\n    ref: 'User'\n  },\n  tags: [{\n    type: Schema.Types.ObjectId,\n    ref: 'Tag'\n  }],\n  createdAt: {\n    type: Date,\n    default: Date.now\n  },\n  updatedAt: {\n    type: Date,\n    default: Date.now\n  }\n},options)\n\n//controller\nconst Article = mongoose.model('Article', schema)\nconst article = {\n  post: async(ctx, next) => {\n    let body = ctx.request.body\n    let {type,tags,title,content,user} = body\n    try{\n      if(!type || !tags || !title || !content || !user) ctx.throw('缺少字段')\n\n      // 查询标签集合，没有就插入新标签\n      // 查询出该文章所有标签的id\n      body.tags = []\n\n      await async.each(tags,async (item,callback) => {\n        let tag = await Tag.findOneAndUpdate({name: item},{name: item},{new: true,upsert: true,setDefaultsOnInsert:true})\n        body.tags.push(tag._id)\n        callback()   //very important\n      })\n\n      await Article.create(body)\n      handle.success(ctx)\n    }catch (e) {\n      handle.error(ctx,e)\n    }\n  },\n  get: async(ctx, next) => {\n    let {id} = ctx.params\n\n    try{\n      let record = await Article.findById(id)\n        .populate({\n          path:'tags',\n          select: 'name'\n        })\n        .populate({\n          path:'user',\n          select: 'name'\n        })\n        .exec()\n\n      await Article.findByIdAndUpdate(id,{view:record.view + 1})\n\n      let preArticle = await Article.find({ 'createdAt': { '$lt': record.createdAt } })\n        .select('title')\n        .sort({_id: -1})\n        .limit(1)\n      let nextArticle = await Article.find({ 'createdAt': { '$gt': record.createdAt } })\n        .select('title')\n        .sort({_id: 1})\n        .limit(1)\n\n      let temp = {}\n      let pre = preArticle[0] ? preArticle[0] : {}\n      let next = nextArticle[0] ? nextArticle[0] : {}\n\n      let result = Object.assign(temp,record._doc,{pre},{next})\n      handle.data(ctx,result)\n    }catch (e) {\n      handle.error(ctx,e)\n    }\n  },\n  patch: async(ctx, next) => {\n    let {id} = ctx.params\n    let body = ctx.request.body\n    let {user,tags} = body\n\n    try{\n      if(user) ctx.throw('禁止修改字段')\n\n      body.tags = []\n      await async.each(tags,async (item,callback) => {\n        let tag = await Tag.findOneAndUpdate({name: item},{name: item},{new: true,upsert: true,setDefaultsOnInsert:true})\n        body.tags.push(tag._id)\n        callback()\n      })\n\n      body.updatedAt = Date.now()\n      let res = await Article.findByIdAndUpdate(id,body)\n      if(!res) ctx.throw('无记录')\n      handle.success(ctx)\n    }catch (e) {\n      handle.error(ctx,e)\n    }\n  },\n  del: async(ctx, next) => {\n    let {id} = ctx.params\n\n    try{\n      let res = await Article.findByIdAndDelete(id)\n      if(!res) ctx.throw('无记录')\n      handle.success(ctx)\n    }catch (e) {\n      handle.error(ctx,e)\n    }\n  },\n  list: async(ctx, next) => {\n    let page = pagination(ctx)\n    try {\n      let count = await Article.countDocuments(page.query)\n      let records = await Article.find(page.query)\n        .populate({\n          path:'user',\n          select: 'name'\n        })\n        .populate({\n          path:'tags',\n          select: 'name'\n        })\n        .sort(page.sort)\n        .skip(page.skip)\n        .limit(page.limit)\n        .exec()\n      handle.data(ctx,records,count)\n    } catch (e) {\n      handle.error(ctx,e)\n    }\n  },\n  listBySearch: async(ctx, next) => {\n    let { keyword } = ctx.params\n    let page = pagination(ctx)\n    let reg = new RegExp(decodeURIComponent(keyword), 'i')\n    let conditions = {$or: [{ title: { $regex: reg } }, { content: { $regex: reg } }]}\n    try {\n      let count = await Article.count(conditions)\n      let records = await Article.find(conditions)\n        .populate({\n          path:'user',\n          select: 'name'\n        })\n        .populate({\n          path:'tags',\n          select: 'name'\n        })\n        .sort(page.sort)\n        .skip(page.skip)\n        .limit(page.limit)\n        .exec()\n      handle.data(ctx,records,count)\n    } catch (e) {\n      handle.error(ctx,e)\n    }\n  },\n  listByTag: async(ctx, next) => {\n    let { tag } = ctx.params\n    let page = pagination(ctx)\n\n    let conditions = { tags: {$all:[tag]} }\n    try {\n      let count = await Article.countDocuments(conditions)\n      let records = await Article.find(conditions)\n        .populate({\n          path:'user',\n          select: 'name'\n        })\n        .populate({\n          path:'tags',\n          select: 'name'\n        })\n        .sort(page.sort)\n        .skip(page.skip)\n        .limit(page.limit)\n        .exec()\n      handle.data(ctx,records,count)\n    } catch (e) {\n      handle.error(ctx,e)\n    }\n  }\n}\n\nexport {Article,article}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/article.js","import mongoose from 'mongoose'\n\nimport * as handle from '../utils/handlers'\nimport {options,pagination} from \"../utils\"\n\n//model\nconst Schema = mongoose.Schema\nconst schema = new Schema({\n  content: {\n    type: String,\n    default: ''\n  },\n  reply: {\n    type: Schema.Types.ObjectId,\n    ref: 'User',\n  },\n  user: {\n    type: Schema.Types.ObjectId,\n    ref: 'User',\n  },\n  article:{\n    type: Schema.Types.ObjectId,\n    ref: 'Article',\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now\n  },\n  updatedAt: {\n    type: Date,\n    default: Date.now\n  }\n},options)\n\n//controller\nconst Comment =  mongoose.model('Comment', schema)\nconst comment = {\n  post: async(ctx, next) => {\n    let body = ctx.request.body\n    let { content, user, article } = body\n\n    try{\n      if(!content || !user || !article) ctx.throw('缺少字段')\n      await Comment.create(body)\n      handle.success(ctx)\n    }catch (e) {\n      handle.error(ctx,e)\n    }\n  },\n  del: async(ctx, next) => {\n    let {id} = ctx.params\n\n    try{\n      let res = await Comment.findByIdAndDelete(id)\n      if(!res) ctx.throw('无记录')\n      handle.success(ctx)\n    }catch (e) {\n      handle.error(ctx,e)\n    }\n  },\n  list: async(ctx, next) => {\n    let page = pagination(ctx)\n    try{\n      let count = await Comment.countDocuments(page.query)\n      let records = await Comment.find(page.query)\n        .populate({\n          path: 'user',\n          select: 'name avatar'\n        })\n        .populate({\n          path: 'reply',\n          select: 'name'\n        })\n        .populate({\n          path: 'article',\n          select: 'user title',\n          populate: {path: 'user',select: 'name'}\n        })\n        .sort(page.sort)\n        .skip(page.skip)\n        .limit(page.limit)\n        .exec()\n      handle.data(ctx,records,count)\n    }catch (e) {\n      handle.error(ctx,e)\n    }\n  }\n}\n\nexport {Comment,comment}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/comment.js","import * as handle from '../utils/handlers'\nimport N from '../../utils/tools/number'\nimport {sendMail} from '../utils'\nimport gtSlide from '../../static/gt-slide'\n\nimport {User} from \"./user\"\n\n// getCode\nexport const getCode = async(ctx, next) => {\n  let {username,email} = ctx.request.body\n\n  try{\n    if(!username || !email) ctx.throw('缺少字段')\n    let user = await User.findOne({username, email})\n    if(!user) ctx.throw('用户名和邮箱不匹配')\n\n    let n = ctx.session.views || 0\n    ctx.session.views = ++n\n    if(ctx.session.views > 3) ctx.throw('获取验证码太频繁，请10分钟后再试！')\n\n    let code = N.randomCode(6)\n    ctx.session.validateCode = code\n    let html = `<div>验证码： <span style=\"font-size: 20px;color:#ff4c29;\">${code}</span> 10分钟内有效</div>`\n    await sendMail(email,'获取验证码',html)\n    handle.success(ctx)\n  }catch (e) {\n    handle.error(ctx,e)\n  }\n}\n\n// sendEmail\nexport const sendEmail = async (ctx, next) => {\n  let {to,subject,html} = ctx.request.body\n\n  try{\n    if(!to || !subject || !html) ctx.throw('缺少字段')\n    let res = await sendMail(to,subject,html)\n    handle.data(ctx,res)\n  }catch (e) {\n    handle.error(ctx,e)\n  }\n}\n\n// gtRegister\nexport const gtRegister = async(ctx, next) => {\n  try{\n    // 向极验申请每次验证所需的challenge\n    let res = await gtSlide.register(null)\n    if(!res.success){\n      // 进入 failback，如果一直进入此模式，请检查服务器到极验服务器是否可访问\n      ctx.session.failback = true\n      ctx.body = res\n    }else {\n      // 正常模式\n      ctx.session.failback = false\n      ctx.body = res\n    }\n  }catch (e) {\n    ctx.body = e\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/common.js","import mongoose from 'mongoose'\n\nimport * as handle from '../utils/handlers'\nimport {options,pagination,sendMail} from '../utils'\nimport T from '../../utils/tools/check'\n\nimport {User} from \"./user\"\n\n//model\nconst Schema = mongoose.Schema\nconst schema = new Schema({\n  name: {\n    type: String,\n    default: ''\n  },\n  phone: {\n    type: String,\n    default: ''\n  },\n  message: {\n    type: String,\n    default: ''\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now\n  },\n  updatedAt: {\n    type: Date,\n    default: Date.now\n  }\n},options)\n\n//controller\nconst Contact = mongoose.model('Contact', schema)\nconst contact = {\n  post: async(ctx, next) => {\n    let body = ctx.request.body\n\n    try{\n      let res = await Contact.create(body)\n\n      //给所有管理员发送邮件\n      let toUsers = ''\n      let admin = await User.find({role:'管理员'})\n      if(!T.isEmpty(admin)){\n        if(admin.length<2){\n          toUsers = admin[0].email\n        }else {\n          admin.forEach(item=>{\n            toUsers += `${item.email},`\n          })\n        }\n      }\n      let html = `<div>姓名：${body.name}</div><div>电话：${body.phone}</div><div>内容：${body.message}</div>`\n      await sendMail(toUsers,'您有新的信息',html)\n\n      handle.data(ctx,res)\n    }catch (e) {\n      handle.error(ctx,e)\n    }\n  },\n  get: async(ctx, next) => {\n    let {id} = ctx.params\n\n    try{\n      let record = await Contact.findById(id)\n      handle.data(ctx,record)\n    }catch (e) {\n      handle.error(ctx,e)\n    }\n  },\n  list: async(ctx, next) => {\n    let page = pagination(ctx)\n    try {\n      let count = await Contact.countDocuments(page.query)\n      let records = await Contact.find(page.query)\n        .sort(page.sort)\n        .skip(page.skip)\n        .limit(page.limit)\n        .exec()\n      handle.data(ctx,records,count)\n    } catch (e) {\n      handle.error(ctx,e)\n    }\n  }\n}\n\nexport {Contact,contact}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/contact.js","import mongoose from 'mongoose'\nimport md5 from 'md5'\n\nimport {User} from './user'\n\n//config\nconst config = require('../../config')\nconst options = {\n  useNewUrlParser: true\n}\nconst url = `mongodb://${config.mongodb.username}:${config.mongodb.password}@${config.mongodb.host}:${config.mongodb.port}/${config.mongodb.database}`\n\n//mongoose设置\nmongoose.connect(url,options) //建立链接\nmongoose.Promise = global.Promise //将mongoose自行封装的promise，改为 ES6 标准\nmongoose.set('useFindAndModify',false) //use native findOneAndUpdate()\n\n//db\nconst db = mongoose.connection\ndb.on('error', console.error.bind(console, '连接错误信息:'))\ndb.once('open', async () => {\n  console.log('链接数据库成功！')\n  // 初始化管理员信息\n  let adminInfo = config.admin\n  adminInfo.password = md5(adminInfo.password)\n\n  let user = await User.findOne({ role: adminInfo.role })\n  if (!user) {\n    await User.create(adminInfo)\n    console.log('超级管理员初始化成功！')\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/index.js","import mongoose from 'mongoose'\n\nimport * as handle from '../utils/handlers'\nimport {options,pagination} from \"../utils\"\n\n//model\nconst Schema = mongoose.Schema\nconst schema = new Schema({\n  like: {\n    type: Boolean,\n    default: true\n  },\n  user: {\n    type: Schema.Types.ObjectId,\n    ref: 'User',\n  },\n  article:{\n    type: Schema.Types.ObjectId,\n    ref: 'Article',\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now\n  },\n  updatedAt: {\n    type: Date,\n    default: Date.now\n  }\n},options)\n\n//controller\nconst Like = mongoose.model('Like', schema)\nconst like = {\n  post: async(ctx, next) => {\n    let body = ctx.request.body\n    let { user, article } = body\n\n    try{\n      if(!user || !article) ctx.throw('缺少字段')\n      let res = await Like.create(body)\n      handle.data(ctx,res)\n    }catch (e) {\n      handle.error(ctx,e)\n    }\n  },\n  del: async(ctx, next) => {\n    let {id} = ctx.params\n\n    try{\n      let res = await Like.findByIdAndDelete(id)\n      if(!res) ctx.throw('无记录')\n      handle.success(ctx)\n    }catch (e) {\n      handle.error(ctx,e)\n    }\n  },\n  list: async(ctx, next) => {\n    let page = pagination(ctx)\n    try{\n      let count = await Like.countDocuments(page.query)\n      let records = await Like.find(page.query)\n        .populate({\n          path: 'user',\n          select: 'name avatar'\n        })\n        .sort(page.sort)\n        .skip(page.skip)\n        .limit(page.limit)\n        .exec()\n      handle.data(ctx,records,count)\n    }catch (e) {\n      handle.error(ctx,e)\n    }\n  }\n}\n\nexport {Like,like}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/like.js","import mongoose from 'mongoose'\n\nimport * as handle from '../utils/handlers'\nimport {options,pagination} from '../utils'\n\n//model\nconst Schema = mongoose.Schema\nconst schema = new Schema({\n  name: {\n    type: String,\n    default: ''\n  },\n  imgPath: {\n    type: String,\n    default: ''\n  },\n  link: {\n    type: String,\n    default: ''\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now\n  },\n  updatedAt: {\n    type: Date,\n    default: Date.now\n  }\n},options)\n\n//controller\nconst Logo = mongoose.model('Logo', schema)\nconst logo = {\n  post: async(ctx, next) => {\n    let body = ctx.request.body\n\n    try{\n      if(!body.link || !body.name) ctx.throw('缺少字段')\n      let res = await Logo.create(body)\n      handle.data(ctx,res)\n    }catch (e) {\n      handle.error(ctx,e)\n    }\n  },\n  get: async(ctx, next) => {\n    let {id} = ctx.params\n\n    try{\n      let record = await Logo.findById(id)\n      handle.data(ctx,record)\n    }catch (e) {\n      handle.error(ctx,e)\n    }\n  },\n  patch: async(ctx, next) => {\n    let {id} = ctx.params\n    let body = ctx.request.body\n\n    try{\n      body.updatedAt = Date.now()\n      let res = await Logo.findByIdAndUpdate(id,body)\n      if(!res) ctx.throw('无记录')\n      handle.success(ctx)\n    }catch (e) {\n      handle.error(ctx,e)\n    }\n  },\n  del: async(ctx, next) => {\n    let {id} = ctx.params\n\n    try{\n      let res = await Logo.findByIdAndDelete(id)\n      if(!res) ctx.throw('无记录')\n      handle.success(ctx)\n    }catch (e) {\n      handle.error(ctx,e)\n    }\n  },\n  list: async(ctx, next) => {\n    let page = pagination(ctx)\n    try {\n      let count = await Logo.countDocuments(page.query)\n      let records = await Logo.find(page.query)\n        .sort(page.sort)\n        .skip(page.skip)\n        .limit(page.limit)\n        .exec()\n      handle.data(ctx,records,count)\n    } catch (e) {\n      handle.error(ctx,e)\n    }\n  }\n}\n\nexport {Logo,logo}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/logo.js","import jwt from 'jsonwebtoken'\nimport * as handle from '../utils/handlers'\n\nimport {User} from '../controllers/user'\n\nconst config = require('../../config')\nconst checkAdmin = async(ctx, next) => {\n  let token = ctx.cookies.get('token') ? ctx.cookies.get('token') : ctx.get('token')\n\n  try {\n    if(!token) ctx.throw('Please login')\n    const decoded = jwt.verify(token, config.secret)\n    const username = decoded.userName\n    const id = decoded.userId\n    if(!username || !id) ctx.throw('Verify token fail')\n\n    let user = await User.findOne({ _id:id, username })\n    if (!user) ctx.throw('Token invalid')\n    if (user.role != '超级管理员') ctx.throw('权限不够')\n\n    await next()\n  } catch (e) {\n    handle.error(ctx,e)\n  }\n}\n\nexport default checkAdmin\n\n\n\n// WEBPACK FOOTER //\n// ./server/middlewares/check-admin.js","import jwt from 'jsonwebtoken'\nimport * as handle from '../utils/handlers'\n\nimport {User} from '../controllers/user'\n\nconst config = require('../../config')\nconst checkToken = async(ctx, next) => {\n  // 可以从cookie里面获得token，也可以从request header里获取token\n  let token = ctx.cookies.get('token') ? ctx.cookies.get('token') : ctx.get('token')\n\n  try {\n    if(!token) ctx.throw('Please login')\n    const decoded = jwt.verify(token, config.secret)\n    const username = decoded.userName\n    const id = decoded.userId\n    if(!username || !id) ctx.throw('Verify token fail')\n\n    let user = await User.findOne({ _id:id, username })\n    if (!user) ctx.throw('Token invalid')\n\n    await next()\n  } catch (e) {\n    handle.error(ctx,e)\n  }\n}\n\nexport default checkToken\n\n\n\n// WEBPACK FOOTER //\n// ./server/middlewares/check-token.js","let check = {\n  isBrowser: function(){\n    let userAgent = navigator.userAgent,\n      isOpera = userAgent.indexOf(\"Opera\") > -1,\n      isIE = userAgent.indexOf(\"compatible\") > -1 && userAgent.indexOf(\"MSIE\") > -1 && !isOpera,\n      isIE11 = userAgent.indexOf('Trident') > -1 && userAgent.indexOf(\"rv:11.0\") > -1,\n      isEdge = userAgent.indexOf(\"Edge\") > -1 && !isIE,\n      isFF = userAgent.indexOf(\"Firefox\") > -1,\n      isSafari = userAgent.indexOf(\"Safari\") > -1 && userAgent.indexOf(\"Chrome\") == -1,\n      isChrome = userAgent.indexOf(\"Chrome\") > -1 && userAgent.indexOf(\"Safari\") > -1;\n\n    // console.log(userAgent)\n    if (isIE) {\n      let reIE = new RegExp(\"MSIE (\\\\d+\\\\.\\\\d+);\");\n      reIE.test(userAgent);\n      let fIEVersion = parseFloat(RegExp[\"$1\"]);\n      return {name: 'IE', version: fIEVersion}\n    }\n    if (isIE11) return {name: 'IE11', version: 11};\n    if (isEdge) return {name: 'Edge', version:0};\n    if (isFF) return {name: 'Firefox', version: 0};\n    if (isOpera) return {name: 'Opera', version: 0};\n    if (isSafari) return {name: 'Safari', version: 0};\n    if (isChrome) return {name: 'Chrome', version: 0};\n  },\n  isString: function (o) {\n    return Object.prototype.toString.call(o).slice(8, -1) === 'String'\n  },\n  isNumber: function (o) {\n    return Object.prototype.toString.call(o).slice(8, -1) === 'Number'\n  },\n  isBoolean: function (o) {\n    return Object.prototype.toString.call(o).slice(8, -1) === 'Boolean'\n  },\n  isFunction: function (o) {\n    return Object.prototype.toString.call(o).slice(8, -1) === 'Function'\n  },\n  isNull: function (o) {\n    return Object.prototype.toString.call(o).slice(8, -1) === 'Null'\n  },\n  isUndefined: function (o) {\n    return Object.prototype.toString.call(o).slice(8, -1) === 'Undefined'\n  },\n  isObj: function (o) {\n    return Object.prototype.toString.call(o).slice(8, -1) === 'Object'\n  },\n  isArray: function (o) {\n    return Object.prototype.toString.call(o).slice(8, -1) === 'Array'\n  },\n  isDate: function (o) {\n    return Object.prototype.toString.call(o).slice(8, -1) === 'Date'\n  },\n  isError: function (o) {\n    return Object.prototype.toString.call(o).slice(8, -1) === 'Error'\n  },\n  isSymbol: function (o) {\n    return Object.prototype.toString.call(o).slice(8, -1) === 'Symbol'\n  },\n  isPromise: function (o) {\n    return Object.prototype.toString.call(o).slice(8, -1) === 'Promise'\n  },\n  isSet: function (o) {\n    return Object.prototype.toString.call(o).slice(8, -1) === 'Set'\n  },\n  isEmpty: function (o) {\n    if(JSON.stringify(o) === \"{}\" || JSON.stringify(o) === \"[]\") return true\n    return false\n  },\n  isFalse: function (o) {\n    if (!o || o === 'null' || o === 'undefined' || o === 'false' || o === 'NaN') return true;\n    return false\n  },\n  isInt: function(str){\n    return /^-?\\d+$/.test(str);\n  },\n  isPhone: function(str){\n    return /^1[3|4|5|6|7|8|9][0-9]{9}$/.test(str);\n  },\n  isTel: function(str){\n    return /^(0\\d{2,3}-\\d{7,8})(-\\d{1,4})?$/.test(str);\n  },\n  isUser: function(str){\n    return /^[a-zA-Z]\\w{1,17}$/.test(str);//用户名以字母开头，长度在1~18之间，只能包含字母、数字和下划线\n  },\n  isPassword: function(str){\n    return /^[a-zA-Z]\\w{5,17}$/.test(str);//密码以字母开头，长度在6~18之间，只能包含字母、数字和下划线\n  },\n  isPostal: function(str){\n    return /[1-9]\\d{5}(?!\\d)/.test(str);//邮政编码\n  },\n  isQQ: function(str){\n    return /^[1-9][0-9]{4,9}$/.test(str);\n  },\n  isEmail: function(str){\n    return /^[\\w-]+(\\.[\\w-]+)*@[\\w-]+(\\.[\\w-]+)+$/.test(str);\n  },\n  isMoney: function(str){\n    return /^\\d*(?:\\.\\d{0,2})?$/.test(str);//金额(小数点2位)\n  },\n  isURL: function(str){\n    return /(http|ftp|https):\\/\\/[\\w\\-_]+(\\.[\\w\\-_]+)+([\\w\\-\\.,@?^=%&:/~\\+#]*[\\w\\-\\@?^=%&/~\\+#])?/.test(str);\n  },\n  isIP: function(str){\n    return /((?:(?:25[0-5]|2[0-4]\\\\d|[01]?\\\\d?\\\\d)\\\\.){3}(?:25[0-5]|2[0-4]\\\\d|[01]?\\\\d?\\\\d))/.test(str);\n  },\n  isEnglish: function(str){\n    return /^[a-zA-Z]+$/.test(str);\n  },\n  isChinese: function(str){\n    return /^[\\u4E00-\\u9FA5]+$/.test(str);\n  },\n  isLower: function(str){\n    return /^[a-z]+$/.test(str);\n  },\n  isUpper: function(str){\n    return /^[A-Z]+$/.test(str);\n  },\n  isHTML: function(str){\n    return /<(\"[^\"]*\"|'[^']*'|[^'\">])*>/.test(str);\n  },\n  isSpace: function(str){\n    return /\\s/.test(str);\n  },\n  isIdCard: function(str){\n    return /(^\\d{15}$)|(^\\d{18}$)|(^\\d{17}(\\d|X|x)$)/.test(str);\n  },\n  isBankCard: function(str){\n    return /^\\d{16}|\\d{19}$/.test(str);\n  },\n  isIos: function () {\n    let u = navigator.userAgent;\n    if (u.indexOf('Android') > -1 || u.indexOf('Linux') > -1) {//安卓手机\n      // return \"Android\";\n      return false\n    } else if (u.indexOf('iPhone') > -1) {//苹果手机\n      // return \"iPhone\";\n      return true\n    } else if (u.indexOf('iPad') > -1) {//iPad\n      // return \"iPad\";\n      return false\n    } else if (u.indexOf('Windows Phone') > -1) {//winphone手机\n      // return \"Windows Phone\";\n      return false\n    } else {\n      return false\n    }\n  },\n  isPC: function () {\n    let userAgentInfo = navigator.userAgent;\n    let Agents = [\"Android\", \"iPhone\", \"SymbianOS\", \"Windows Phone\", \"iPad\", \"iPod\"];\n    let flag = true;\n    for (let v = 0; v < Agents.length; v++) {\n      if (userAgentInfo.indexOf(Agents[v]) > 0) {\n        flag = false;\n        break;\n      }\n    }\n    return flag;\n  },\n  isCardID: function (sId) {\n    if (!/(^\\d{15}$)|(^\\d{17}(\\d|X|x)$)/.test(sId)) {\n      alert('你输入的身份证长度或格式错误');\n      return false\n    }\n    //身份证城市\n    let aCity = {\n      11: \"北京\",\n      12: \"天津\",\n      13: \"河北\",\n      14: \"山西\",\n      15: \"内蒙古\",\n      21: \"辽宁\",\n      22: \"吉林\",\n      23: \"黑龙江\",\n      31: \"上海\",\n      32: \"江苏\",\n      33: \"浙江\",\n      34: \"安徽\",\n      35: \"福建\",\n      36: \"江西\",\n      37: \"山东\",\n      41: \"河南\",\n      42: \"湖北\",\n      43: \"湖南\",\n      44: \"广东\",\n      45: \"广西\",\n      46: \"海南\",\n      50: \"重庆\",\n      51: \"四川\",\n      52: \"贵州\",\n      53: \"云南\",\n      54: \"西藏\",\n      61: \"陕西\",\n      62: \"甘肃\",\n      63: \"青海\",\n      64: \"宁夏\",\n      65: \"新疆\",\n      71: \"台湾\",\n      81: \"香港\",\n      82: \"澳门\",\n      91: \"国外\"\n    };\n    if (!aCity[parseInt(sId.substr(0, 2))]) {\n      alert('你的身份证地区非法')\n      return false\n    }\n\n    // 出生日期验证\n    let sBirthday = (sId.substr(6, 4) + \"-\" + Number(sId.substr(10, 2)) + \"-\" + Number(sId.substr(12, 2))).replace(/-/g, \"/\"),\n      d = new Date(sBirthday)\n    if (sBirthday != (d.getFullYear() + \"/\" + (d.getMonth() + 1) + \"/\" + d.getDate())) {\n      alert('身份证上的出生日期非法')\n      return false\n    }\n\n    // 身份证号码校验\n    let sum = 0,\n      weights = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2],\n      codes = \"10X98765432\"\n    for (let i = 0; i < sId.length - 1; i++) {\n      sum += sId[i] * weights[i];\n    }\n    let last = codes[sum % 11]; //计算出来的最后一位身份证号码\n    if (sId[sId.length - 1] != last) {\n      alert('你输入的身份证号非法')\n      return false\n    }\n    return true\n  },\n}\nexport default check\n\n\n\n// WEBPACK FOOTER //\n// ./utils/tools/check.js","let file = {\n  /*格式文件大小单位*/\n  formatSize: function (num) {\n    let fsize = parseFloat(num, 2);\n    let fileSizeString;\n    if (fsize < 1024) {\n      fileSizeString = fsize.toFixed(2) + \"B\";\n    } else if (fsize < 1048576) {\n      fileSizeString = (fsize / 1024).toFixed(2) + \"KB\";\n    } else if (fsize < 1073741824) {\n      fileSizeString = (fsize / 1024 / 1024).toFixed(2) + \"MB\";\n    } else if (fsize < 1024 * 1024 * 1024) {\n      fileSizeString = (fsize / 1024 / 1024 / 1024).toFixed(2) + \"GB\";\n    } else {\n      fileSizeString = \"0B\";\n    }\n    return fileSizeString;\n  },\n  /*获取文件的后缀名*/\n  getExt: function (fileName) {\n    if (fileName.lastIndexOf(\".\") == -1)\n      return fileName;\n    let pos = fileName.lastIndexOf(\".\") + 1;\n    return fileName.substring(pos, fileName.length).toLowerCase();\n  },\n  /*获取文件名称*/\n  getName: function (fileName) {\n    let pos = fileName.lastIndexOf(\".\");\n    if (pos == -1) {\n      return fileName;\n    } else {\n      return fileName.substring(0, pos);\n    }\n  },\n  /*根据路径获取文件全名*/\n  getFileName: function (path) {\n    let fileFormat = path.split(\"/\")\n    return fileFormat[fileFormat.length - 1]\n  },\n  isImageFileName: function (fileName) {\n    return /(gif|jpg|jpeg|png|GIF|JPG|PNG)$/ig.test(fileName);\n  },\n  isVideoFileName: function (fileName) {\n    return /(mp4|mp3|flv|wav)$/ig.test(fileName);\n  },\n  isDocumentFileName: function (fileName) {\n    return /(doc|docx|xls|xlsx|pdf|txt|ppt|pptx|rar|zip|html|jsp|sql|htm|shtml|xml)$/ig.test(fileName);\n  },\n  isOfficeFileName: function (fileName) {\n    return /(doc|docx|xls|xlsx|pdf|txt|ppt|pptx)$/ig.test(fileName);\n  }\n}\nexport default file\n\n\n\n// WEBPACK FOOTER //\n// ./utils/tools/file.js","let num = {\n  // 随机数范围\n  random: function (min, max) {\n    if (arguments.length === 2) {\n      return Math.floor(min + Math.random() * ((max + 1) - min))\n    } else {\n      return null;\n    }\n  },\n  /**\n   * 抽奖概率\n   * @param goods 奖品池，如：['一等奖'，'二等奖']\n   * @param odds 概率数组，如：[0.1.0.9]\n   * @returns {*}\n   */\n  randomGoods: function(goods,odds){\n    let sum = 0,\n      factor = 0,\n      random = Math.random();\n\n    for(let i = odds.length - 1; i >= 0; i--) {\n      sum += odds[i]; // 统计概率总和\n    };\n    random *= sum; // 生成概率随机数\n    for(let i = odds.length - 1; i >= 0; i--) {\n      factor += odds[i];\n      if(random <= factor) return goods[i];\n    };\n    return null;\n  },\n  //随机验证码\n  randomCode:function (len) {\n    var code = ''\n    const random = [0,1,2,3,4,5,6,7,8,9]\n    for(let i = 0; i < len; i++){\n      let index = Math.floor(Math.random()*10);\n      code += random[index];\n    }\n    return code\n  },\n  // 将数字转换成对应的中文小写\n  formatSmallChinese: function (num) {\n    let AA = new Array(\"零\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"七\", \"八\", \"九\", \"十\");\n    let BB = new Array(\"\", \"十\", \"百\", \"仟\", \"萬\", \"億\", \"点\", \"\");\n    let a = (\"\" + num).replace(/(^0*)/g, \"\").split(\".\"),\n      k = 0,\n      re = \"\";\n    for (let i = a[0].length - 1; i >= 0; i--) {\n      switch (k) {\n        case 0:\n          re = BB[7] + re;\n          break;\n        case 4:\n          if (!new RegExp(\"0{4}//d{\" + (a[0].length - i - 1) + \"}$\")\n            .test(a[0]))\n            re = BB[4] + re;\n          break;\n        case 8:\n          re = BB[5] + re;\n          BB[7] = BB[5];\n          k = 0;\n          break;\n      }\n      if (k % 4 == 2 && a[0].charAt(i + 2) != 0 && a[0].charAt(i + 1) == 0)\n        re = AA[0] + re;\n      if (a[0].charAt(i) != 0)\n        re = AA[a[0].charAt(i)] + BB[k % 4] + re;\n      k++;\n    }\n\n    if (a.length > 1) // 加上小数部分(如果有小数部分)\n    {\n      re += BB[6];\n      for (let i = 0; i < a[1].length; i++)\n        re += AA[a[1].charAt(i)];\n    }\n    if (re == '一十')\n      re = \"十\";\n    if (re.match(/^一/) && re.length == 3)\n      re = re.replace(\"一\", \"\");\n    return re;\n  },\n  // 数字金钱表示\n  formatMoney: function (num) {\n    let str = num.toString()\n    let newStr = \"\";\n    let count = 0;\n\n    if (str.indexOf(\".\") == -1) {\n      for (let i = str.length - 1; i >= 0; i--) {\n        if (count % 3 == 0 && count != 0) {\n          newStr = str.charAt(i) + \",\" + newStr;\n        } else {\n          newStr = str.charAt(i) + newStr;\n        }\n        count++;\n      }\n      str = newStr + \".00\"; //自动补小数点后两位\n      return str\n    } else {\n      for (let i = str.indexOf(\".\") - 1; i >= 0; i--) {\n        if (count % 3 == 0 && count != 0) {\n          newStr = str.charAt(i) + \",\" + newStr; //碰到3的倍数则加上“,”号\n        } else {\n          newStr = str.charAt(i) + newStr; //逐个字符相接起来\n        }\n        count++;\n      }\n      str = newStr + (str + \"00\").substr((str + \"00\").indexOf(\".\"), 3);\n      return str\n    }\n  },\n  // 中文大写金钱表示\n  formatBigMoney: function (money) {\n    //汉字的数字\n    var cnNums = new Array('零', '壹', '贰', '叁', '肆', '伍', '陆', '柒', '捌', '玖');\n    //基本单位\n    var cnIntRadice = new Array('', '拾', '佰', '仟');\n    //对应整数部分扩展单位\n    var cnIntUnits = new Array('', '万', '亿', '兆');\n    //对应小数部分单位\n    var cnDecUnits = new Array('角', '分', '毫', '厘');\n    //整数金额时后面跟的字符\n    var cnInteger = '整';\n    //整型完以后的单位\n    var cnIntLast = '元';\n    //最大处理的数字\n    var maxNum = 999999999999999.9999;\n    //金额整数部分\n    var integerNum;\n    //金额小数部分\n    var decimalNum;\n    //输出的中文金额字符串\n    var chineseStr = '';\n    //分离金额后用的数组，预定义\n    var parts;\n    if (money == '') { return ''; }\n    money = parseFloat(money);\n    if (money >= maxNum) {\n      //超出最大处理数字\n      return '';\n    }\n    if (money == 0) {\n      chineseStr = cnNums[0] + cnIntLast + cnInteger;\n      return chineseStr;\n    }\n    //转换为字符串\n    money = money.toString();\n    if (money.indexOf('.') == -1) {\n      integerNum = money;\n      decimalNum = '';\n    } else {\n      parts = money.split('.');\n      integerNum = parts[0];\n      decimalNum = parts[1].substr(0, 4);\n    }\n    //获取整型部分转换\n    if (parseInt(integerNum, 10) > 0) {\n      var zeroCount = 0;\n      var IntLen = integerNum.length;\n      for (var i = 0; i < IntLen; i++) {\n        var n = integerNum.substr(i, 1);\n        var p = IntLen - i - 1;\n        var q = p / 4;\n        var m = p % 4;\n        if (n == '0') {\n          zeroCount++;\n        } else {\n          if (zeroCount > 0) {\n            chineseStr += cnNums[0];\n          }\n          //归零\n          zeroCount = 0;\n          chineseStr += cnNums[parseInt(n)] + cnIntRadice[m];\n        }\n        if (m == 0 && zeroCount < 4) {\n          chineseStr += cnIntUnits[q];\n        }\n      }\n      chineseStr += cnIntLast;\n    }\n    //小数部分\n    if (decimalNum != '') {\n      var decLen = decimalNum.length;\n      for (var i = 0; i < decLen; i++) {\n        var n = decimalNum.substr(i, 1);\n        if (n != '0') {\n          chineseStr += cnNums[Number(n)] + cnDecUnits[i];\n        }\n      }\n    }\n    if (chineseStr == '') {\n      chineseStr += cnNums[0] + cnIntLast + cnInteger;\n    } else if (decimalNum == '') {\n      chineseStr += cnInteger;\n    }\n    return chineseStr;\n  },\n  //数字单位\n  numberUnit: function (num) {\n    switch (true) {\n      case num > 999999999:\n        return `${(num/1000000000).toFixed(2)} 十亿`\n        break\n      case num > 99999999:\n        return `${(num/100000000).toFixed(2)} 亿`\n        break\n      case num > 9999999:\n        return `${(num/10000000).toFixed(2)} 千万`\n        break\n      case num > 999999:\n        return `${(num/1000000).toFixed(2)} 百万`\n        break\n      case num > 99999:\n        return `${(num/100000).toFixed(2)} 十万`\n        break\n      case num > 9999:\n        return `${(num/10000).toFixed(2)} 万`\n        break\n      default:\n        return num\n    }\n  }\n}\nexport default num\n\n\n\n// WEBPACK FOOTER //\n// ./utils/tools/number.js","module.exports = require(\"gt3-sdk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"gt3-sdk\"\n// module id = 34\n// module chunks = 0","module.exports = require(\"nodemailer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nodemailer\"\n// module id = 35\n// module chunks = 0","module.exports = require(\"postcss-px2rem\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"postcss-px2rem\"\n// module id = 36\n// module chunks = 0","module.exports = require(\"promise-async\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"promise-async\"\n// module id = 37\n// module chunks = 0","module.exports = require(\"regenerator-runtime\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"regenerator-runtime\"\n// module id = 38\n// module chunks = 0","module.exports = require(\"webpack\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"webpack\"\n// module id = 39\n// module chunks = 0","import Koa from 'koa'\nimport { Nuxt, Builder } from 'nuxt'\nimport KoaStatic from 'koa-static'\nimport Router from 'koa-router'\nimport koaBody from 'koa-body'\nimport session from 'koa-session'\nimport cors from '@koa/cors'\nimport path from 'path'\n\nimport N from '../utils/tools/time'\n\n//routes\nimport api from './routes'\nimport upload from './routes/upload'\n\n//config\nconst config = require('../config')\nconst serverConfig = {\n  session: {\n    key: 'koa:sess',\n    maxAge: N.getMillisecond(10,'minute'),\n    autoCommit: true,\n    overwrite: true,\n    httpOnly: true,\n    signed: true,\n    rolling: false,\n    renew: false\n  },\n  cors: {\n    // credentials: true,\n    // methods: \"GET,HEAD,PUT,PATCH,POST,DELETE\",\n    // origin: `${config.app.domain}`  //前端带cookie访问需要设置跨域源\n  }\n}\n\nstart()  //启动服务\n\nasync function start() {\n  const app = new Koa()\n  const router = new Router()\n\n  app.keys = [config.secret]\n\n  const host = process.env.HOST || config.app.host\n  const port = process.env.PORT || config.app.port\n\n  // static\n  app.use(KoaStatic(path.join(__dirname,'../static')))\n\n  // session\n  app.use(session(serverConfig.session, app))\n\n  //cors\n  app.use(cors(serverConfig.cors))\n\n  //routes\n  router.use('/api', koaBody(), api.routes())\n  router.use('/upload', upload.routes())\n\n  app.use(router.routes())\n  app.use(router.allowedMethods())\n\n  // Import and Set Nuxt.js options\n  let nuxtConfig = require('../nuxt.config.js')\n  nuxtConfig.dev = !(app.env === 'production')\n\n  // Instantiate nuxt.js\n  const nuxt = new Nuxt(nuxtConfig)\n\n  // Build in development\n  if (nuxtConfig.dev) {\n    const builder = new Builder(nuxt)\n    await builder.build()\n  }\n\n  app.use(async (ctx, next) => {\n    await next()\n    ctx.status = 200 // koa defaults to 404 when it sees that status is unset\n    return new Promise((resolve, reject) => {\n      ctx.res.on('close', resolve)\n      ctx.res.on('finish', resolve)\n      nuxt.render(ctx.req, ctx.res, promise => {\n        promise.then(resolve).catch(reject)  // nuxt.render passes a rejected promise into callback on error.\n      })\n    })\n  })\n\n  app.listen(port, host)\n  console.log('Server listening on ' + host + ':' + port)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js"],"sourceRoot":""}