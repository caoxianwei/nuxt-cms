webpackJsonp([15],{"4BCP":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("fDJa"),a=r("Fnat"),s=r("VU/8")(n.a,a.a,!1,null,null,null);s.options.__file="pages/admin/users/editor.vue",t.default=s.exports},Fnat:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"admin-editor"},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"角色",prop:"type"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}},e._l(e.options,function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})}),1)],1),r("el-form-item",{attrs:{label:"名称",prop:"title"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v("立即提交")]),r("el-button",{on:{click:e.onCancel}},[e._v("取消")])],1)],1)],1)};n._withStripped=!0;var a={render:n,staticRenderFns:[]};t.a=a},fDJa:function(e,t,r){"use strict";var n=r("woOf"),a=r.n(n),s=r("Xxa5"),o=r.n(s),i=r("exGp"),u=r.n(i);t.a={layout:"admin",middleware:"auth",methods:{onSubmit:function(){var e=u()(o.a.mark(function e(t){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("UPDATE_USER",this.form);case 2:(r=e.sent).success?(this.$message({message:"提交成功",type:"success"}),this.$router.push("/admin/users")):this.$message.error(r.message);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),onCancel:function(){this.$router.push("/admin/users")}},data:function(){return{form:{role:"",name:""},options:["超级管理员","管理员","用户"]}},mounted:function(){var e=u()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$route.query.id){e.next=5;break}return e.next=3,this.$store.dispatch("GET_USERINFO_BY_ID",this.$route.query.id);case 3:t=e.sent,a()(this.form,t.data);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}}});