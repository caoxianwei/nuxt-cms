webpackJsonp([16],{"4ZBL":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"admin-list"},[a("div",{staticClass:"flex-row-sb"},[a("el-button",{attrs:{type:"success"},on:{click:t.postData}},[t._v("新增")])],1),a("div",{staticClass:"table-container"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.table,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"name",label:"机构名称","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"link",label:"链接地址","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{sortable:"",prop:"createdAt",label:"创建日期",width:"130","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"170"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.checkRow(e.row)}}},[t._v(t._s(t.$t("admin.page.check")))]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.editRow(e.row.id)}}},[t._v(t._s(t.$t("admin.page.edit")))]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.deleteRow(e.$index,t.table)}}},[t._v(t._s(t.$t("admin.page.delete")))])]}}])})],1),a("el-pagination",{attrs:{"current-page":t.pageIndex,"page-size":t.pageSize,"page-sizes":[10,20,30,40,50],layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),a("el-dialog",{attrs:{visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("div",{staticClass:"title"},[a("img",{attrs:{src:t.dialog.imgPath}})]),a("div",{staticClass:"title"},[t._v("机构名称："+t._s(t.dialog.name))]),a("div",{staticClass:"title"},[t._v("链接地址："+t._s(t.dialog.link))]),a("div",{staticClass:"title"},[t._v("日期："+t._s(t.dialog.createdAt))])])],1)};n._withStripped=!0;var i={render:n,staticRenderFns:[]};e.a=i},Emgl:function(t,e,a){"use strict";var n=a("Xxa5"),i=a.n(n),s=a("exGp"),r=a.n(s);e.a={layout:"admin",middleware:"auth",methods:{postData:function(){this.$router.push("/admin/logos/editor")},handleSizeChange:function(){var t=r()(i.a.mark(function t(e){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.pageSize=e,t.next=3,this.$store.dispatch("logo/GET_LOGOS","?pageIndex="+this.pageIndex+"&pageSize="+this.pageSize);case 3:a=t.sent,this.table=a.data;case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),handleCurrentChange:function(){var t=r()(i.a.mark(function t(e){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.pageIndex=e,t.next=3,this.$store.dispatch("logo/GET_LOGOS","?pageIndex="+this.pageIndex+"&pageSize="+this.pageSize);case 3:a=t.sent,this.table=a.data;case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),checkRow:function(t){this.dialog=t,this.dialogTableVisible=!0},deleteRow:function(t,e){var a=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(r()(i.a.mark(function n(){var s;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.$store.dispatch("logo/DEL_LOGO",e[t].id);case 2:(s=n.sent).success?(e.splice(t,1),a.$message({type:"success",message:"删除成功!"})):a.$message({type:"error",message:s.message});case 4:case"end":return n.stop()}},n,a)})))},editRow:function(t){this.$router.push("/admin/logos/editor?id="+t)}},asyncData:function(){var t=r()(i.a.mark(function t(e){var a,n=e.store;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.dispatch("logo/GET_LOGOS","");case 2:return a=t.sent,t.abrupt("return",{table:a.data,total:a.total});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),data:function(){return{table:[],total:null,pageIndex:1,pageSize:10,dialog:{},dialogTableVisible:!1}}}},xkgL:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Emgl"),i=a("4ZBL"),s=a("VU/8")(n.a,i.a,!1,null,null,null);s.options.__file="pages/admin/logos/index.vue",e.default=s.exports}});