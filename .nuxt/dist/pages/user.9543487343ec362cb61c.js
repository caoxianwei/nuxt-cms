webpackJsonp([9],{C0ia:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"user-page grid-container flex-center-c"},[r("div",{staticClass:"user-container"},[r("div",{staticClass:"avatar"},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/upload/thumb","show-file-list":!1,"on-success":t.handleAvatarSuccess,"on-error":t.handleAvatarError,"before-upload":t.beforeAvatarUpload}},[t.avatar?r("img",{attrs:{src:t.avatar}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),r("div",{staticClass:"info"},[r("div",{staticClass:"name"},[t._v("昵称："),r("el-input",{model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1),r("div",{staticClass:"email"},[t._v("邮箱："),r("el-input",{model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1)]),r("nuxt-link",{staticClass:"save",attrs:{to:""},nativeOn:{click:function(e){return t.saveUser(e)}}},[t._v("保存资料")]),r("nuxt-link",{attrs:{to:"/"}},[t._v("返回首页")])],1)])};n._withStripped=!0;var i={render:n,staticRenderFns:[]};e.a=i},KdxW:function(t,e,r){"use strict";var n=r("mvHQ"),i=r.n(n),s={isBrowser:function(){var t=navigator.userAgent,e=t.indexOf("Opera")>-1,r=t.indexOf("compatible")>-1&&t.indexOf("MSIE")>-1&&!e,n=t.indexOf("Trident")>-1&&t.indexOf("rv:11.0")>-1,i=t.indexOf("Edge")>-1&&!r,s=t.indexOf("Firefox")>-1,a=t.indexOf("Safari")>-1&&-1==t.indexOf("Chrome"),o=t.indexOf("Chrome")>-1&&t.indexOf("Safari")>-1;return r?(new RegExp("MSIE (\\d+\\.\\d+);").test(t),{name:"IE",version:parseFloat(RegExp.$1)}):n?{name:"IE11",version:11}:i?{name:"Edge",version:0}:s?{name:"Firefox",version:0}:e?{name:"Opera",version:0}:a?{name:"Safari",version:0}:o?{name:"Chrome",version:0}:void 0},isString:function(t){return"String"===Object.prototype.toString.call(t).slice(8,-1)},isNumber:function(t){return"Number"===Object.prototype.toString.call(t).slice(8,-1)},isBoolean:function(t){return"Boolean"===Object.prototype.toString.call(t).slice(8,-1)},isFunction:function(t){return"Function"===Object.prototype.toString.call(t).slice(8,-1)},isNull:function(t){return"Null"===Object.prototype.toString.call(t).slice(8,-1)},isUndefined:function(t){return"Undefined"===Object.prototype.toString.call(t).slice(8,-1)},isObj:function(t){return"Object"===Object.prototype.toString.call(t).slice(8,-1)},isArray:function(t){return"Array"===Object.prototype.toString.call(t).slice(8,-1)},isDate:function(t){return"Date"===Object.prototype.toString.call(t).slice(8,-1)},isError:function(t){return"Error"===Object.prototype.toString.call(t).slice(8,-1)},isSymbol:function(t){return"Symbol"===Object.prototype.toString.call(t).slice(8,-1)},isPromise:function(t){return"Promise"===Object.prototype.toString.call(t).slice(8,-1)},isSet:function(t){return"Set"===Object.prototype.toString.call(t).slice(8,-1)},isEmpty:function(t){return"{}"===i()(t)||"[]"===i()(t)},isFalse:function(t){return!t||"null"===t||"undefined"===t||"false"===t||"NaN"===t},isInt:function(t){return/^-?\d+$/.test(t)},isPhone:function(t){return/^1[3|4|5|6|7|8|9][0-9]{9}$/.test(t)},isTel:function(t){return/^(0\d{2,3}-\d{7,8})(-\d{1,4})?$/.test(t)},isUser:function(t){return/^[a-zA-Z]\w{1,17}$/.test(t)},isPassword:function(t){return/^[a-zA-Z]\w{5,17}$/.test(t)},isPostal:function(t){return/[1-9]\d{5}(?!\d)/.test(t)},isQQ:function(t){return/^[1-9][0-9]{4,9}$/.test(t)},isEmail:function(t){return/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/.test(t)},isMoney:function(t){return/^\d*(?:\.\d{0,2})?$/.test(t)},isURL:function(t){return/(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:/~\+#]*[\w\-\@?^=%&/~\+#])?/.test(t)},isIP:function(t){return/((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))/.test(t)},isEnglish:function(t){return/^[a-zA-Z]+$/.test(t)},isChinese:function(t){return/^[\u4E00-\u9FA5]+$/.test(t)},isLower:function(t){return/^[a-z]+$/.test(t)},isUpper:function(t){return/^[A-Z]+$/.test(t)},isHTML:function(t){return/<("[^"]*"|'[^']*'|[^'">])*>/.test(t)},isSpace:function(t){return/\s/.test(t)},isIdCard:function(t){return/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(t)},isBankCard:function(t){return/^\d{16}|\d{19}$/.test(t)},isIos:function(){var t=navigator.userAgent;return!(t.indexOf("Android")>-1||t.indexOf("Linux")>-1)&&(t.indexOf("iPhone")>-1||!(t.indexOf("iPad")>-1)&&(t.indexOf("Windows Phone"),!1))},isPC:function(){for(var t=navigator.userAgent,e=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],r=!0,n=0;n<e.length;n++)if(t.indexOf(e[n])>0){r=!1;break}return r},isCardID:function(t){if(!/(^\d{15}$)|(^\d{17}(\d|X|x)$)/.test(t))return alert("你输入的身份证长度或格式错误"),!1;if(!{11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"}[parseInt(t.substr(0,2))])return alert("你的身份证地区非法"),!1;var e=(t.substr(6,4)+"-"+Number(t.substr(10,2))+"-"+Number(t.substr(12,2))).replace(/-/g,"/"),r=new Date(e);if(e!=r.getFullYear()+"/"+(r.getMonth()+1)+"/"+r.getDate())return alert("身份证上的出生日期非法"),!1;for(var n=0,i=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],s=0;s<t.length-1;s++)n+=t[s]*i[s];var a="10X98765432"[n%11];return t[t.length-1]==a||(alert("你输入的身份证号非法"),!1)}};e.a=s},WnRb:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("rupR"),i=r("C0ia"),s=r("VU/8")(n.a,i.a,!1,null,null,null);s.options.__file="pages/user.vue",e.default=s.exports},rupR:function(t,e,r){"use strict";var n=r("Xxa5"),i=r.n(n),s=r("exGp"),a=r.n(s),o=r("KdxW");e.a={head:function(){return{title:"个人资料页 - NUXT CMS"}},data:function(){return{user:{},avatar:""}},created:function(){this.avatar=this.$store.state.user.avatar,this.user.name=this.$store.state.user.name,this.user.email=this.$store.state.user.email},methods:{saveUser:function(){var t=a()(i.a.mark(function t(){var e,r=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.user.avatar=this.avatar,this.user.id=this.$store.state.user.id,t.prev=2,o.a.isEmail(this.user.email)){t.next=5;break}throw"请填写正确的邮箱地址";case 5:return console.log(this.user),t.next=8,this.$store.dispatch("UPDATE_USER",this.user);case 8:if(!(e=t.sent).success){t.next=14;break}this.$message({message:"修改用户信息成功",type:"success"}),setTimeout(function(){r.$router.push("/")},300),t.next=15;break;case 14:throw e.message;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(2),this.$message({message:t.t0,type:"error"});case 20:case"end":return t.stop()}},t,this,[[2,17]])}));return function(){return t.apply(this,arguments)}}(),handleAvatarSuccess:function(t,e){this.avatar=t.data.url},handleAvatarError:function(t){console.log(t)},beforeAvatarUpload:function(t){var e="image/jpg"===t.type,r="image/jpeg"===t.type,n="image/png"===t.type,i=t.size/1024/1024<2,s=!1;return e||r||n?s=!0:this.$message.error("缩略图只能是 JPG或PNG 格式!"),i||this.$message.error("缩略图片大小不能超过 2MB!"),s&&i}}}}});